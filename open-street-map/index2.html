<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container" style="padding: 3%;">
        <div class="row">
            <div class="col-md-6">
                <table class="table table-bordered table-sm">
                    <thead>
                        <tr>
                            <th>Place Name</th>
                            <th>Latitude</th>
                            <th>Longitude</th>
                        </tr>
                    </thead>
                    <tbody id="t-body">
                        <tr>
                            <td><a href="/place/kyaukpadaung-mandalay-myanmar-burma-25246.html" title="Kyaukpadaung, Mandalay, Myanmar (Burma)">Kyaukpadaung, Mandalay, Myanmar (Burma)</a></td>
                            <td>20.844360</td>
                            <td>95.125816</td>
                        </tr>
                        <tr>
                            <td><a href="/place/ngazun-township-ngazun-myanmar-burma-23582.html" title="Ngazun Township, Ngazun, Myanmar (Burma)">Ngazun Township, Ngazun, Myanmar (Burma)</a></td>
                            <td>21.896179</td>
                            <td>95.688049</td>
                        </tr>
                        <tr>
                            <td><a href="/place/dawei-tanintharyi-region-myanmar-22403.html" title="Dawei, Tanintharyi Region, Myanmar">Dawei, Tanintharyi Region, Myanmar</a></td>
                            <td>14.187175</td>
                            <td>98.209534</td>
                        </tr>
                        <tr>
                            <td><a href="/place/yesagyo-myanmar-burma-22349.html" title="Yesagyo, Myanmar (Burma)">Yesagyo, Myanmar (Burma)</a></td>
                            <td>21.622005</td>
                            <td>95.247688</td>
                        </tr>
                        <tr>
                            <td><a href="/place/nattalin-myanmar-burma-21824.html" title="Nattalin, Myanmar (Burma)">Nattalin, Myanmar (Burma)</a></td>
                            <td>18.429764</td>
                            <td>95.551231</td>
                        </tr>
                        <tr>
                            <td><a href="/place/minbya-myanmar-burma-20700.html" title="Minbya, Myanmar (Burma)">Minbya, Myanmar (Burma)</a></td>
                            <td>20.368446</td>
                            <td>93.271866</td>
                        </tr>
                        <tr>
                            <td><a href="/place/laaitui-myanmar-burma-13336.html" title="Laaitui, Myanmar (Burma)">Laaitui, Myanmar (Burma)</a></td>
                            <td>23.353149</td>
                            <td>93.560310</td>
                        </tr>
                        <tr>
                            <td><a href="/place/lung-sha-yang-myanmar-burma-12701.html" title="Lung Sha Yang, Myanmar (Burma)">Lung Sha Yang, Myanmar (Burma)</a></td>
                            <td>27.167339</td>
                            <td>97.549095</td>
                        </tr>
                        <tr>
                            <td><a href="/place/ka-mar-se-republic-of-the-union-of-myanmar-12194.html" title="Ka Mar Se, Republic of the Union of Myanmar">Ka Mar Se, Republic of the Union of Myanmar</a></td>
                            <td>17.226398</td>
                            <td>96.626640</td>
                        </tr>
                        <tr>
                            <td><a href="/place/shwenyaung-republic-of-the-union-of-myanmar-10209.html" title="Shwenyaung, Republic of the Union of Myanmar">Shwenyaung, Republic of the Union of Myanmar</a></td>
                            <td>20.765022</td>
                            <td>96.942863</td>
                        </tr>
                        <tr>
                            <td><a href="/place/tanintharyi-republic-of-the-union-of-myanmar-10177.html" title="Tanintharyi, Republic of the Union of Myanmar">Tanintharyi, Republic of the Union of Myanmar</a></td>
                            <td>12.089633</td>
                            <td>99.011513</td>
                        </tr>
                        <tr>
                            <td><a href="/place/innkhaung-republic-of-the-union-of-myanmar-10106.html" title="Innkhaung, Republic of the Union of Myanmar">Innkhaung, Republic of the Union of Myanmar</a></td>
                            <td>20.701797</td>
                            <td>96.762779</td>
                        </tr>
                        <tr>
                            <td><a href="/place/hsipaw-republic-of-the-union-of-myanmar-9899.html" title="Hsipaw, Republic of the Union of Myanmar">Hsipaw, Republic of the Union of Myanmar</a></td>
                            <td>22.623632</td>
                            <td>97.300362</td>
                        </tr>
                        <tr>
                            <td><a href="/place/mongyai-republic-of-the-union-of-myanmar-7566.html" title="Mongyai, Republic of the Union of Myanmar">Mongyai, Republic of the Union of Myanmar</a></td>
                            <td>22.410835</td>
                            <td>98.038338</td>
                        </tr>
                        <tr>
                            <td><a href="/place/kalaw-republic-of-the-union-of-myanmar-7529.html" title="Kalaw, Republic of the Union of Myanmar">Kalaw, Republic of the Union of Myanmar</a></td>
                            <td>20.633333</td>
                            <td>96.566666</td>
                        </tr>
                        <tr>
                            <td><a href="/place/aungpan-republic-of-the-union-of-myanmar-3354.html" title="Aungpan, Republic of the Union of Myanmar">Aungpan, Republic of the Union of Myanmar</a></td>
                            <td>20.666668</td>
                            <td>96.633331</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-md-6">
                <div id="mapdiv" style="width: 100%;height: 600px;"></div>
            </div>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="http://www.openlayers.org/api/OpenLayers.js"></script>
    <script>
        // Adapted from: harrywood.co.uk
        epsg4326 = new OpenLayers.Projection("EPSG:4326")

        map = new OpenLayers.Map({
            div: "mapdiv",
            displayProjection: epsg4326 // With this setting, lat and lon are displayed correctly in MousePosition and permanent anchor
        });

        //   map = new OpenLayers.Map("mapdiv");
        map.addLayer(new OpenLayers.Layer.OSM());
        map.addLayer(new OpenLayers.Layer.OSM("Wikimedia", ["https://maps.wikimedia.org/osm-intl/${z}/${x}/${y}.png"], {
            attribution: "&copy; <a href='http://www.openstreetmap.org/'>OpenStreetMap</a> and contributors, under an <a href='http://www.openstreetmap.org/copyright' title='ODbL'>open license</a>. <a href='https://www.mediawiki.org/wiki/Maps'>Wikimedia's new style (beta)</a>",
            "tileOptions": {
                "crossOriginKeyword": null
            }
        }));
        // See https://wiki.openstreetmap.org/wiki/Tile_servers for other OSM-based layers

        map.addControls([
            new OpenLayers.Control.MousePosition(),
            new OpenLayers.Control.ScaleLine(),
            new OpenLayers.Control.LayerSwitcher(),
            new OpenLayers.Control.Permalink({
                anchor: true
            })
        ]);

        projectTo = map.getProjectionObject(); //The map projection (Spherical Mercator)
        var lonLat = new OpenLayers.LonLat(95.9560, 21.9162).transform(epsg4326, projectTo);
        var zoom = 10;
        if (!map.getCenter()) {
            map.setCenter(lonLat, zoom);
        }

        // Put your point-definitions here
        // var markers = [
        //   [9.2, 48.8, 'Cities1'],
        //   [8.4, 49.0, 'Cities1'],
        //   [6.2, 48.7, 'Cities1'],
        //   [2.5, 48.9, 'Cities2'],
        //   [-1.4, 50.9, 'Cities2'],
        //   [6.6, 51.8, 'Cities3'],
        //   [8.6, 49.4, 'Cities3'],
        //   [11.6, 48.1, 'Cities3']
        // ];

        var markers = [];
        $('#t-body > tr').each(function() {
            var data = [$(this).find('td')[2].innerText, $(this).find('td')[1].innerText, $(this).find('td')[0].innerText];
            markers.push(data);
        });

        var colorList = ["red", "blue", "yellow"];
        var layerName = [markers[0][2]];
        var styleArray = [new OpenLayers.StyleMap({
            pointRadius: 6,
            fillColor: colorList[0],
            fillOpacity: 0.5
        })];
        var vectorLayer = [new OpenLayers.Layer.Vector(layerName[0], {
            styleMap: styleArray[0]
        })]; // First element defines first Layer

        var j = 0;
        for (var i = 1; i < markers.length; i++) {
            if (!layerName.includes(markers[i][2])) {
                j++;
                layerName.push(markers[i][2]); // If new layer name found it is created
                styleArray.push(new OpenLayers.StyleMap({
                    pointRadius: 6,
                    fillColor: colorList[j % colorList.length],
                    fillOpacity: 0.5
                }));
                vectorLayer.push(new OpenLayers.Layer.Vector(layerName[j], {
                    styleMap: styleArray[j]
                }));
            }
        }

        //Loop through the markers array
        for (var i = 0; i < markers.length; i++) {
            var lon = markers[i][0];
            var lat = markers[i][1];
            var feature = new OpenLayers.Feature.Vector(
                new OpenLayers.Geometry.Point(lon, lat).transform(epsg4326, projectTo), {
                    description: "marker number " + i
                }
                // see http://dev.openlayers.org/docs/files/OpenLayers/Feature/Vector-js.html#OpenLayers.Feature.Vector.Constants for more options
            );
            vectorLayer[layerName.indexOf(markers[i][2])].addFeatures(feature);
        }

        for (var i = 0; i < layerName.length; i++) {
            map.addLayer(vectorLayer[i]);
        }
    </script>

</body>

</html>